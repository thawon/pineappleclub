!function(){"use strict";angular.module("pineappleclub",["ui.router","breeze.angular","ngResource","ngProgress","ngCookies","ncy-angular-breadcrumb","toaster","angularUtils.directives.dirPagination","pineappleclub.application","pineappleclub.home","pineappleclub.navigator","pineappleclub.contact","pineappleclub.philosophy","pineappleclub.services","pineappleclub.photos","pineappleclub.header-client","pineappleclub.header-admin","pineappleclub.footer","pineappleclub.footer-admin","pineappleclub.side-bar","pineappleclub.dashboard","pineappleclub.login","pineappleclub.user-profile","pineappleclub.user-profile-list","pineappleclub.authorisation-constant","pineappleclub.state-change-service","pineappleclub.auth-interceptor-service"]).config(["$locationProvider","$stateProvider","$urlRouterProvider","$httpProvider","$breadcrumbProvider","AUTHORISATION",function(a,b,c,d,e,f){e.setOptions({templateUrl:"scripts/components/breadcrumb/breadcrumb.html"}),a.html5Mode({enabled:!0}),c.otherwise(f.STATES.otherwise),f.STATES.states.map(function(a){b.state(a.name,{url:a.url,templateUrl:a.templateUrl,controller:a.controller,ncyBreadcrumb:{label:a.label,parent:a.parent},data:a.data})}),d.interceptors.push("AuthInterceptor")}]).run(["breeze","$rootScope","StateChangeService","ngProgress",function(a,b,c,d){b.$on("$stateChangeStart",function(a,b){c.change(b.data.authorizedRoles)}),b.$on("$stateChangeSuccess",function(a,b){d.complete()})}])}(),function(){"use strict";function a(a,b,c,d,e){a.color(b.progress.color),c.authenticated().then(function(a){var b;a.success&&(b=a.user,d.setCurrentUser(b),e.getUser(b._id).then(function(a){d.setCurrentUser(a)}))})}angular.module("pineappleclub.application",["ngProgress","pineappleclub.app-configuration-service","pineappleclub.auth-service","pineappleclub.user-service","pineappleclub.user-profile-service"]).controller("ApplicationController",a),a.$inject=["ngProgress","AppConfigurationService","AuthService","UserService","UserProfileService"]}(),function(){"use strict";function a(a,b){var c=this;c.location=a,c.companyInfo=b.companyInfo,c.animation="zoom-animation"}angular.module("pineappleclub.contact",["pineappleclub.app-configuration-service","pineappleclub.google-map-directive"]).controller("ContactController",a),a.$inject=["$location","AppConfigurationService"]}(),function(){"use strict";function a(a,b,c){var d,e,f,g=this;g.currentUser=c.getCurrentUser(),d=_.filter(a.STATES.states,function(a){return-1!==a.data.authorizedRoles.indexOf(g.currentUser.userRole)&&"dashboard"!==a.name&&"user-profile"!==a.name}),e=_.clone(_.first(_.filter(a.STATES.states,function(a){return"user-profile"==a.name}))),d.unshift(e),f={from:"dashboard",userId:g.currentUser._id||g.currentUser.id,mode:b.show},e.name+="("+JSON.stringify(f)+")",g.states=d}angular.module("pineappleclub.dashboard",["pineappleclub.authorisation-constant","pineappleclub.view-modes-constant","pineappleclub.user-service"]).controller("DashboardController",a),a.$inject=["AUTHORISATION","VIEW_MODES","UserService"]}(),function(){"use strict";function a(a,b,c){var d=this;d.isShown=!1,d.isShownLastLoggedIn=!1,a.$on("$stateChangeSuccess",function(a,e){var f=_.filter(b.STATES.states,function(a){return"login"===a.name||"signout"===a.name||-1!==a.data.authorizedRoles.indexOf(b.USER_ROLES.admin)});d.isShown=_.find(f,function(a){return a.name===e.name})?!0:!1,d.isShownLastLoggedIn="login"!==e.name&&"signout"!==e.name?!0:!1,d.currentUser=c.getCurrentUser()})}angular.module("pineappleclub.footer-admin",["pineappleclub.authorisation-constant","pineappleclub.user-service"]).controller("FooterAdminController",a),a.$inject=["$rootScope","AUTHORISATION","UserService"]}(),function(){"use strict";function a(a,b){var c,d=this;c=_.filter(b.STATES.states,function(a){return"philosophy"===a.name||"contact"===a.name}),d.isShown=!1,a.$on("$stateChangeSuccess",function(a,c){var e=_.filter(b.STATES.states,function(a){return-1===a.data.authorizedRoles.indexOf(b.USER_ROLES.admin)&&"login"!==a.name&&"signout"!==a.name});d.isShown=_.find(e,function(a){return a.name===c.name})?!0:!1}),d.states=c}angular.module("pineappleclub.footer",["pineappleclub.authorisation-constant"]).controller("FooterController",a),a.$inject=["$rootScope","AUTHORISATION"]}(),function(){"use strict";function a(a,b,c,d,e){var f=this;f.getCurrentUser=d.getCurrentUser,f.logout=function(){b.logout().then(function(b){d.setCurrentUser(null),a.$broadcast(e.logoutSuccess),c.changeState("signout")})}}angular.module("pineappleclub.header-admin",["pineappleclub.state-service","pineappleclub.user-service","pineappleclub.auth-service","pineappleclub.auth-events-constant"]).controller("HeaderAdminController",a),a.$inject=["$rootScope","AuthService","StateService","UserService","AUTH_EVENTS"]}(),function(){"use strict";function a(a,b,c,d,e,f){function g(){h.banner=f.device.isBreakpoint(d.XS)?h.configs.IMG_SMALLBANNER:h.configs.IMG_BIGBANNER}var h=this;h.configs={IMG_BIGBANNER:"/images/tree-big.png",IMG_SMALLBANNER:"/images/tree-small.png"},e.addEventListener("resize",$.proxy(function(){a($.proxy(h.resize,h))},h),!1),b.$on("$stateChangeSuccess",function(a,b){var d=_.filter(c.STATES.states,function(a){return"login"===a.name||"signout"===a.name});h.isShown=_.find(b.data.authorizedRoles,function(a){return a===c.USER_ROLES.admin})||_.find(d,function(a){return a.name===b.name})?!1:!0}),h.isShown=!0,g()}angular.module("pineappleclub.header-client",["pineappleclub.authorisation-constant","pineappleclub.device-sizes-constant","pineappleclub.export-service","pineappleclub.util-service"]).controller("HeaderClientController",a),a.$inject=["$timeout","$rootScope","AUTHORISATION","DEVICE_SIZES","ExportService","UtilService"]}(),function(){"use strict";function a(){var a=this;a.animation="zoom-animation"}angular.module("pineappleclub.home",[]).controller("HomeController",a),a.$inject=[]}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(){c.changeState("dashboard")}var j=this,k="waitingId",l={type:"success",body:"logged in successfully",timeout:2e3},m={type:"wait",body:"logging in...",toastId:k,toasterId:k},n={type:"error",body:"logged in unsuccessfully"};j.credentials={email:f.empty,password:f.empty},j.errorMessage=null,j.login=function(c){b.login(c).then(function(b){h.pop(m),g.getUser(b._id).then(function(b){h.clear(k,k),d.setCurrentUser(b),a.$broadcast(e.loginSuccess),i(),h.pop(l)})})},a.$on(e.notAuthenticated,function(){h.clear(k,k),h.pop(n),j.errorMessage="The email or password you entered is incorrect."}),b.isAuthenticated()&&i()}angular.module("pineappleclub.login",["pineappleclub.auth-service","pineappleclub.state-service","pineappleclub.user-service","pineappleclub.auth-events-constant","pineappleclub.string-constant","pineappleclub.user-profile-service"]).controller("LoginController",a),a.$inject=["$rootScope","AuthService","StateService","UserService","AUTH_EVENTS","STRING","UserProfileService","toaster"]}(),function(){"use strict";function a(a,b){var c,d=this;c=_.filter(b.STATES.states,function(a){return"home"===a.name||"services"===a.name||"philosophy"===a.name||"photos"===a.name||"contact"===a.name}),d.companyInfo=a.companyInfo,d.states=c,d.toggleSideBar=function(){$(".row-offcanvas").toggleClass("active")}}angular.module("pineappleclub.navigator",["pineappleclub.app-configuration-service","pineappleclub.authorisation-constant"]).controller("NavigatorController",a),a.$inject=["AppConfigurationService","AUTHORISATION"]}(),function(){"use strict";function a(){var a=this;a.animation="zoom-animation"}angular.module("pineappleclub.philosophy",[]).controller("PhilosophyController",a),a.$inject=[]}(),function(){"use strict";function a(a){var b=this;b.userId=a.googlePlusUserId,b.animation="zoom-animation"}angular.module("pineappleclub.photos",["pineappleclub.app-configuration-service","pineappleclub.plus-gallery-directive"]).controller("PhotosController",a),a.$inject=["AppConfigurationService"]}(),function(){"use strict";function a(){var a=this;a.animation="zoom-animation"}angular.module("pineappleclub.services",[]).controller("ServicesController",a),a.$inject=[]}(),function(){"use strict";function a(a,b,c,d,e){function f(){$(h.configs.ELE_SIDEBAR).toggleClass(h.configs.CONS_ACTIVE)}var g,h=this;h.configs={ELE_SIDEBAR:".row-offcanvas",CONS_ACTIVE:"active",CSS_SIDEBARSHOW:"side-bar-show",CSS_SIDEBARHIDE:"side-bar-hide"},g=_.filter(d.STATES.states,function(a){return"home"===a.name||"services"===a.name||"philosophy"===a.name||"photos"===a.name||"contact"===a.name}),h.dashboardState=_.filter(d.STATES.states,function(a){return"dashboard"===a.name})[0],h.project=b.companyInfo,h.states=g,h.isShownDashboard=c.isAuthenticated(),h.toggleSideBar=$.proxy(f,h),a.$on(e.loginSuccess,function(){h.isShownDashboard=!0}),a.$on(e.authenticated,function(){h.isShownDashboard=!0}),a.$on(e.logoutSuccess,function(){h.isShownDashboard=!1})}angular.module("pineappleclub.side-bar",["pineappleclub.device-height-directive","pineappleclub.app-configuration-service","pineappleclub.auth-service","pineappleclub.authorisation-constant","pineappleclub.auth-events-constant"]).controller("SideBarController",a),a.$inject=["$rootScope","AppConfigurationService","AuthService","AUTHORISATION","AUTH_EVENTS"]}(),function(){"use strict";function a(a,b){function c(a,c){var e=b.pagination,f=breeze.EntityQuery.from("Users").where("account_id","==",a).skip(e.itemsPerPage*(c-1)).take(e.itemsPerPage).inlineCount();return d.executeQuery(f).then(function(a){return a})["catch"](function(a){console.log(a)})}var d=a.getManager(),e={getUsers:c};return e}angular.module("pineappleclub.user-profile-list-service",["pineappleclub.entity-manager-factory","pineappleclub.app-configuration-service"]).factory("UserProfileListService",a),a.$inject=["EntityManagerFactory","AppConfigurationService"]}(),function(){"use strict";function a(a,b,c,d,e){function f(c){b.getCurrentUser();a.getUsers(h.account_id,c).then(function(a){h.users=a.results,h.totalUsers=a.inlineCount})}function g(a){var b="user-profile",c={from:"user-profile-list",userId:a.id,mode:e.show};d.changeState(b,c)}var h=this,i=c.pagination,j=1;h.animation="slide-horizontal-animation",h.account_id=b.getCurrentUser().account_id,h.users=null,h.itemsPerPage=i.itemsPerPage,h.totalUsers=0,f(j),h.pagination={current:j},h.pageChanged=function(a){f(a)},h.showDetails=g}angular.module("pineappleclub.user-profile-list",["pineappleclub.user-profile-list-service","pineappleclub.user-service","pineappleclub.app-configuration-service","pineappleclub.state-service","pineappleclub.view-modes-constant"]).controller("UserProfileListController",a),a.$inject=["UserProfileListService","UserService","AppConfigurationService","StateService","VIEW_MODES"]}(),function(){"use strict";function a(a){var b=breeze.DataType,c={model:function(){},getType:function(){return{name:"User",dataProperties:{id:{type:b.MongoObjectId},firstname:{required:!0,max:50},lastname:{required:!0,max:50},userRole:{required:!0,max:10},lastLoggedInDateTime:{type:b.DateTime},email:{required:!0,max:255},account_id:{type:b.MongoObjectId}}}}};return a.defineProperty(c.model,"fullname",function(){return this.firstname+" "+this.lastname}),c}angular.module("pineappleclub.user-model",["pineappleclub.util-service"]).factory("UserModelService",a),a.$inject=["UtilService"]}(),function(){"use strict";function a(a,b){function c(a){return d.fetchEntityByKey("User",a).then(function(a){return a.entity})["catch"](function(a){console.log(a)})}var d=a.getManager(),e={getUser:c};return e}angular.module("pineappleclub.user-profile-service",["pineappleclub.entity-manager-factory"]).factory("UserProfileService",a),a.$inject=["EntityManagerFactory"]}(),function(){"use strict";function a(a,b,c,d,e){function f(a){j.user=a}function g(){var a=j.user,b=a.entityAspect.getValidationErrors(),c={hasError:b.length>0?!0:!1,Errors:_.pluck(b,"errorMessage")};return c}function h(){j.user.entityAspect.rejectChanges()}function i(){return a.mode}var j=this,k=a.userId;j.animation="slide-horizontal-animation",j.cameFrom=a.from,j.user=null,j.save=c.saveChanges(),j.validate=g,j.cancel=h,j.mode=i,b.getUser(k).then(f)}angular.module("pineappleclub.user-profile",["pineappleclub.entity-detail-container","pineappleclub.expandable-container","pineappleclub.user-profile-service","pineappleclub.data-service","pineappleclub.user-service","pineappleclub.view-modes-constant"]).controller("UserProfileController",a),a.$inject=["$stateParams","UserProfileService","DataService","UserService","VIEW_MODES"]}(),function(){"use strict";var a={loginSuccess:"auth-login-success",loginFailed:"auth-login-failed",logoutSuccess:"auth-logout-success",logoutFailed:"auth-logout-failed",sessionTimeout:"auth-session-timeout",authenticated:"auth-authenticated",notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized"};angular.module("pineappleclub.auth-events-constant",[]).constant("AUTH_EVENTS",a)}(),function(){"use strict";var a,b,c;a={admin:"admin",all:"*"},b={otherwise:"/",states:[{name:"home",display:"Home",url:"/",label:"Home",templateUrl:"scripts/components/home/home.html",controller:"HomeController as vm",data:{authorizedRoles:[a.all],page:{title:"Child Care Service",description:"We provide high quality child care service supported by Integricare.The service is operated by experienced diploma qualification educator."}}},{name:"services",display:"Services",url:"/services",templateUrl:"scripts/components/services/services.html",controller:"ServicesController as vm",data:{authorizedRoles:[a.all],page:{title:"Family Day Care, Before/After school care, Vocation care",description:"We provide Family Day Care, Before/After school care and Vocation care."}}},{name:"philosophy",display:"Philosophy",url:"/philosophy",templateUrl:"scripts/components/philosophy/philosophy.html",controller:"PhilosophyController as vm",data:{authorizedRoles:[a.all],page:{title:"Unlocking child's full potential",description:"We believe early learning is the key to unlocking a child's full potential."}}},{name:"photos",display:"Photos",url:"/photos",templateUrl:"scripts/components/photos/photos.html",controller:"PhotosController as vm",data:{authorizedRoles:[a.all],page:{title:"Playroom, Creative corner, Art and craft and outside playground",description:"Our facilities are Playroom, Creative corner, Art and craft and outside playground."}}},{name:"contact",display:"Contact",url:"/contact",templateUrl:"scripts/components/contact/contact.html",controller:"ContactController as vm",data:{authorizedRoles:[a.all],page:{title:"Near Rockdale and Banksia train station",description:"Our location is near Rockdale and Banksia train station."}}},{name:"dashboard",display:"Dashboard",url:"/dashboard",label:"Dashboard",templateUrl:"scripts/components/dashboard/dashboard.html",controller:"DashboardController as dashboard",data:{authorizedRoles:[a.admin],page:{title:"Admin Dashboard",description:""}}},{name:"login",url:"/login",templateUrl:"scripts/components/login/login.html",controller:"LoginController as login",data:{authorizedRoles:[a.all],page:{title:"Login",description:"admin user authentication"}}},{name:"signout",url:"/signout",templateUrl:"scripts/components/signout/signout.html",data:{authorizedRoles:[a.all],page:{title:"Signout",description:"User is signed out"}}},{name:"user-profile",display:"My-Profile",label:"Profile",parent:function(a){return a.vm.cameFrom?a.vm.cameFrom:"dashboard"},url:"/user-profile/:userId?mode?from",templateUrl:"scripts/components/user-profile/user-profile.html",controller:"UserProfileController as vm",data:{authorizedRoles:[a.admin],page:{title:"User Profile Details",description:"View/Edit user profile"},dashboard:{icon:"/images/user-profile.png"}}},{name:"user-profile-list",display:"Users",label:"Users",parent:"dashboard",url:"/user-profile-list",templateUrl:"scripts/components/user-profile-list/user-profile-list.html",controller:"UserProfileListController as vm",data:{authorizedRoles:[a.admin],page:{title:"Users",description:"List of users"},dashboard:{icon:"/images/user-profile-list.png"}}}]},c={USER_ROLES:a,STATES:b},angular.module("pineappleclub.authorisation-constant",[]).constant("AUTHORISATION",c)}(),function(){"use strict";var a={XS:"xs",S:"sm",M:"md",L:"lg"};angular.module("pineappleclub.device-sizes-constant",[]).constant("DEVICE_SIZES",a)}(),function(){"use strict";var a={empty:""};angular.module("pineappleclub.string-constant",[]).constant("STRING",a)}(),function(){"use strict";var a={show:"show",edit:"edit",create:"create"};angular.module("pineappleclub.view-modes-constant",[]).constant("VIEW_MODES",a)}(),function(){"use strict";function a(a){var b={link:function(b,c,d){$(c).height($(a).height())}};return{restrict:"A",link:function(a,c,d){b.link(a,c,d)}}}angular.module("pineappleclub.device-height-directive",["pineappleclub.export-service"]).directive("pcdDeviceHeight",a),a.$inject=["ExportService"]}(),function(){"use strict";function a(a,b,c){return{restrict:"E",transclude:!0,scope:{saveFn:"&",validateFn:"&",cancelFn:"&",modeFn:"&"},link:function(d,e,f){function g(){j(b.show)()}function h(){c.history.back()}function i(){var a=$(e),b=a.find(".view-detail").find("[data-mode]");return b}function j(a){return function(){var b=$(e),c=i(),f=b.find(".view-detail").find("[data-mode='"+a+"']");$(c).hide(),$(f).show(),d.mode=a}}function k(b){return function(){var c="waitingId",e={type:"success",body:"saved successfully",timeout:2e3},f={type:"wait",body:"saving...",toastId:c,toasterId:c},g={type:"error",body:"saved unsuccessfully"},h=d.validateFn();return h.hasError?(a.pop(g),void m(h.Errors)):(n(),a.pop(f),void d.saveFn().then(function(d){return a.clear(c,c),a.pop(e),n(),b(),d})["catch"](function(b){return a.clear(c,c),a.pop(g),console.log(b),b}))}}function l(){d.cancelFn(),n(),j(b.show)()}function m(a){var b=a.join("</br>");o.html(b)}function n(){o.html("")}var o=e.find(".view-detail-error");d.edit=j(b.edit),d.cancel=l,d.save=k(g),d.saveAndClose=k(h),j(d.modeFn())()},templateUrl:"scripts/directives/entity-detail-container/entity-detail-container.html"}}angular.module("pineappleclub.entity-detail-container",["pineappleclub.view-modes-constant","pineappleclub.export-service"]).directive("pcdEntityDetailContainer",a),a.$inject=["toaster","VIEW_MODES","ExportService"]}(),function(){"use strict";function a(){return{restrict:"E",transclude:!0,scope:{},link:function(a,b,c){a.expandable="/images/collapse.png",b.find(".exp-header").html(c.header),a.toggle=function(){var c=$(b),d=c.find(".collapse-group").find(".collapse");a.expandable=d.hasClass("collapse in")?"/images/expand.png":"/images/collapse.png",d.collapse("toggle")}},templateUrl:"scripts/directives/expandable-container/expandable-container.html"}}angular.module("pineappleclub.expandable-container",[]).directive("pcdExpandableContainer",a),a.$inject=[]}(),function(){"use strict";function a(a){var b={link:function(b,c,d){var e,f,g=a.companyInfo;f={zoom:17,center:new google.maps.LatLng(g.location.lat,g.location.lng)},e=new google.maps.Map($(c).get(0),f)}};return{restrict:"A",link:function(a,c,d){b.link(a,c,d)}}}angular.module("pineappleclub.google-map-directive",[]).directive("pcdGoogleMap",a),a.$inject=["AppConfigurationService"]}(),function(){function a(a,b,c){function d(d,k){var l=k.dirPaginate,m=l.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),n=/\|\s*itemsPerPage\s*:[^|]*/;if(null===m[2].match(n))throw"pagination directive: the 'itemsPerPage' filter must be set.";var o=m[2].replace(n,""),p=b(o);g(d);var q=k.paginationId||j;return c.registerInstance(q),function(d,g,k){var m=b(k.paginationId)(d)||k.paginationId||j;c.registerInstance(m);var n=e(l,m);f(g,k,n),h(g);var o=a(g),q=i(d,k,m);c.setCurrentPageParser(m,q,d),"undefined"!=typeof k.totalItems?(c.setAsyncModeTrue(m),d.$watch(function(){return b(k.totalItems)(d)},function(a){a>=0&&c.setCollectionLength(m,a)})):d.$watchCollection(function(){return p(d)},function(a){a&&c.setCollectionLength(m,a.length)}),o(d)}}function e(a,b){var c,d=!!a.match(/(\|\s*itemsPerPage\s*:[^|]*:[^|]*)/);return c=b===j||d?a:a.replace(/(\|\s*itemsPerPage\s*:[^|]*)/,"$1 : '"+b+"'")}function f(a,b,c){a[0].hasAttribute("dir-paginate-start")||a[0].hasAttribute("data-dir-paginate-start")?(b.$set("ngRepeatStart",c),a.eq(a.length-1).attr("ng-repeat-end",!0)):b.$set("ngRepeat",c)}function g(a){angular.forEach(a,function(a){a.nodeType===Node.ELEMENT_NODE&&angular.element(a).attr("dir-paginate-no-compile",!0)})}function h(a){angular.forEach(a,function(a){a.nodeType===Node.ELEMENT_NODE&&angular.element(a).removeAttr("dir-paginate-no-compile")}),a.eq(0).removeAttr("dir-paginate-start").removeAttr("dir-paginate").removeAttr("data-dir-paginate-start").removeAttr("data-dir-paginate"),a.eq(a.length-1).removeAttr("dir-paginate-end").removeAttr("data-dir-paginate-end")}function i(a,c,d){var e;if(c.currentPage)e=b(c.currentPage);else{var f=d+"__currentPage";a[f]=1,e=b(f)}return e}return{terminal:!0,multiElement:!0,compile:d}}function b(){return{priority:5e3,terminal:!0}}function c(a){a.put("angularUtils.directives.dirPagination.template",'<ul class="pagination" ng-if="1 < pages.length"><li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(1)">&laquo;</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(pagination.current - 1)">&lsaquo;</a></li><li ng-repeat="pageNumber in pages track by $index" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' }"><a href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.current + 1)">&rsaquo;</a></li><li ng-if="boundaryLinks"  ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.last)">&raquo;</a></li></ul>')}function d(a,b){function c(b,c,e){function g(c){k(c)&&(b.pages=d(c,a.getCollectionLength(m),a.getItemsPerPage(m),o),b.pagination.current=c,i(),b.onPageChange&&b.onPageChange({newPageNumber:c}))}function h(){var c=parseInt(a.getCurrentPage(m))||1;b.pages=d(c,a.getCollectionLength(m),a.getItemsPerPage(m),o),b.pagination.current=c,b.pagination.last=b.pages[b.pages.length-1],b.pagination.last<b.pagination.current?b.setCurrent(b.pagination.last):i()}function i(){var c=a.getCurrentPage(m),d=a.getItemsPerPage(m),e=a.getCollectionLength(m);b.range.lower=(c-1)*d+1,b.range.upper=Math.min(c*d,e),b.range.total=e}function k(a){return f.test(a)&&a>0&&a<=b.pagination.last}var l=e.paginationId||j,m=b.paginationId||e.paginationId||j;if(!a.isRegistered(m)&&!a.isRegistered(l)){var n=m!==j?" (id: "+m+") ":" ";throw"pagination directive: the pagination controls"+n+"cannot be used without the corresponding pagination directive."}b.maxSize||(b.maxSize=9),b.directionLinks=angular.isDefined(e.directionLinks)?b.$parent.$eval(e.directionLinks):!0,b.boundaryLinks=angular.isDefined(e.boundaryLinks)?b.$parent.$eval(e.boundaryLinks):!1;var o=Math.max(b.maxSize,5);b.pages=[],b.pagination={last:1,current:1},b.range={lower:1,upper:1,total:1},b.$watch(function(){return(a.getCollectionLength(m)+1)*a.getItemsPerPage(m)},function(a){a>0&&h()}),b.$watch(function(){return a.getItemsPerPage(m)},function(a,c){a!=c&&"undefined"!=typeof c&&g(b.pagination.current)}),b.$watch(function(){return a.getCurrentPage(m)},function(a,b){a!=b&&g(a)}),b.setCurrent=function(b){k(b)&&(b=parseInt(b,10),a.setCurrentPage(m,b))}}function d(a,b,c,d){var f,g=[],h=Math.ceil(b/c),i=Math.ceil(d/2);f=i>=a?"start":a>h-i?"end":"middle";for(var j=h>d,k=1;h>=k&&d>=k;){var l=e(k,a,d,h),m=2===k&&("middle"===f||"end"===f),n=k===d-1&&("middle"===f||"start"===f);g.push(j&&(m||n)?"...":l),k++}return g}function e(a,b,c,d){var e=Math.ceil(c/2);return a===c?d:1===a?a:d>c?b>d-e?d-c+a:b>e?b-e+a:a:a}var f=/^\d+$/;return{restrict:"AE",templateUrl:function(a,c){return c.templateUrl||b.getPath()},scope:{maxSize:"=?",onPageChange:"&?",paginationId:"=?"},link:c}}function e(a){return function(b,c,d){if("undefined"==typeof d&&(d=j),!a.isRegistered(d))throw"pagination directive: the itemsPerPage id argument (id: "+d+") does not match a registered pagination-id.";var e,f;return b instanceof Array?(c=parseInt(c)||9999999999,f=a.isAsyncMode(d)?0:(a.getCurrentPage(d)-1)*c,e=f+c,a.setItemsPerPage(d,c),b.slice(f,e)):b}}function f(){var a,b={};this.registerInstance=function(c){"undefined"==typeof b[c]&&(b[c]={asyncMode:!1},a=c)},this.isRegistered=function(a){return"undefined"!=typeof b[a]},this.getLastInstanceId=function(){return a},this.setCurrentPageParser=function(a,c,d){b[a].currentPageParser=c,b[a].context=d},this.setCurrentPage=function(a,c){b[a].currentPageParser.assign(b[a].context,c)},this.getCurrentPage=function(a){var c=b[a].currentPageParser;return c?c(b[a].context):1},this.setItemsPerPage=function(a,c){b[a].itemsPerPage=c},this.getItemsPerPage=function(a){return b[a].itemsPerPage},this.setCollectionLength=function(a,c){b[a].collectionLength=c},this.getCollectionLength=function(a){return b[a].collectionLength},this.setAsyncModeTrue=function(a){b[a].asyncMode=!0},this.isAsyncMode=function(a){return b[a].asyncMode}}function g(){var a="angularUtils.directives.dirPagination.template";this.setPath=function(b){a=b},this.$get=function(){return{getPath:function(){return a}}}}var h,i="angularUtils.directives.dirPagination",j="__default";try{h=angular.module(i)}catch(k){h=angular.module(i,[])}h.directive("dirPaginate",["$compile","$parse","paginationService",a]).directive("dirPaginateNoCompile",b).directive("dirPaginationControls",["paginationService","paginationTemplate",d]).filter("itemsPerPage",["paginationService",e]).service("paginationService",f).provider("paginationTemplate",g).run(["$templateCache",c])}(),function(){"use strict";function a(a){var b={link:function(a,b,c){$(b).attr("data-userid",c.userid),$(b).plusGallery()}};return{restrict:"A",link:function(a,c,d){b.link(a,c,d)}}}angular.module("pineappleclub.plus-gallery-directive",[]).directive("pcdPlusGallery",a),a.$inject=[]}(),function(){"use strict";function a(){function a(a){return"api"+a}var b={project:{name:"Pineapple Club Website"},page:{titlePrefix:"Pineapple Club"},googlePlusUserId:"102015599606810374225",companyInfo:{name:"Pineapple Club Family Day Care",location:{lat:-33.945967,lng:151.137092},contact:{phone:"(02) 8041 8101",mobile:"04 6625 0622",email:"mui@pineappleclub.com.au"}},progress:{color:"#1d9ad9"},getServiceName:a,breezejs:{httpTimeout:1e4},pagination:{itemsPerPage:4}};return b}angular.module("pineappleclub.app-configuration-service",[]).factory("AppConfigurationService",a),a.$inject=[]}(),function(){"use strict";function a(a,b,c){return{responseError:function(d){return a.$broadcast({401:c.notAuthenticated,403:c.notAuthorized,419:c.sessionTimeout,440:c.sessionTimeout}[d.status],d),b.reject(d)}}}angular.module("pineappleclub.auth-interceptor-service",["pineappleclub.auth-events-constant"]).factory("AuthInterceptor",a),a.$inject=["$rootScope","$q","AUTH_EVENTS"]}(),function(){"use strict";function a(a,b,c){function d(b){var c={id:b.id,userRole:b.userRole};a.setCookie("user",c)}function e(a){return b.post(l("/login"),a).then(function(a){var b=a.data;return d(b.user),b.user})}function f(){return b.post(l("/logout")).then(function(b){var c=b.data;return c.success&&a.removeCookie("user"),c})}function g(){return a.removeCookie("user"),b.post(l("/authenticated")).then(function(a){var b=a.data;return b.success&&d(b.user),b})}function h(){return!!k.getCurrentUser()}function i(a){var b=k.getCurrentUser();return angular.isArray(a)||(a=[a]),k.isAuthenticated()&&-1!==a.indexOf(b.userRole)}function j(){return a.getCookie("user")}var k={login:e,logout:f,authenticated:g,isAuthenticated:h,isAuthorized:i,getCurrentUser:j},l=c.getServiceName;return k}angular.module("pineappleclub.auth-service",["pineappleclub.cookie-service","pineappleclub.app-configuration-service"]).factory("AuthService",a),a.$inject=["CookieService","$http","AppConfigurationService"]}(),function(){"use strict";function a(){function a(a){var b=localStorage.getItem(a);return b?JSON.parse(b):null}function b(a,b){localStorage.setItem(a,JSON.stringify(b))}function c(a){localStorage.removeItem(a)}var d={getCookie:a,setCookie:b,removeCookie:c};return d}angular.module("pineappleclub.cookie-service",[]).factory("CookieService",a),a.$inject=[]}(),function(){"use strict";function a(a){function b(a){return function(){return c.saveChanges()}}var c=a.getManager(),d={saveChanges:b};return d}angular.module("pineappleclub.data-service",["pineappleclub.entity-manager-factory"]).factory("DataService",a),a.$inject=["EntityManagerFactory"]}(),function(){"use strict";function a(a,b){function c(){breeze.config.initializeAdapterInstance("dataService","mongo",!0),f("0"),h=new breeze.DataService({serviceName:b.getServiceName("")})}function d(){return i||(i=k.newManager())}function e(){var b=a.getMetadataStore();return b.addDataService(h),b}function f(a){var b=breeze.config.getAdapterInstance("ajax");b.defaultSettings={headers:{"X-UserSessionId":a},timeout:l.httpTimeout}}function g(){return new breeze.EntityManager({dataService:h,metadataStore:j})}var h,i,j,k,l=b.breezejs;return c(),j=e(),k={getManager:d,newManager:g}}angular.module("pineappleclub.entity-manager-factory",["pineappleclub.model","pineappleclub.app-configuration-service"]).factory("EntityManagerFactory",a),a.$inject=["model","AppConfigurationService"]}(),function(){"use strict";function a(){return window}angular.module("pineappleclub.export-service",[]).factory("ExportService",a),a.$inject=[]}(),function(){"use strict";function a(a){function b(){var b=c(),e=new breeze.MetadataStore({namingConvention:b});return d(e,a),e}function c(){var a=new breeze.NamingConvention({serverPropertyNameToClient:function(a){switch(a){case"_id":return"id";default:return a}},clientPropertyNameToServer:function(a){switch(a){case"id":return"_id";default:return a}}});return a}function d(a,b){var c=breeze.AutoGeneratedKeyType.None,d="Pineapple.Model",e=new breeze.config.MetadataHelper(d,c),f=function(b){e.addTypeToStore(a,b)};f(b.getType())}return{createMetadataStore:b}}angular.module("pineappleclub.meta-data",["pineappleclub.user-model"]).factory("metadata",a),a.$inject=["UserModelService"]}(),function(){"use strict";function a(a,b){function c(){var c=a.createMetadataStore(),d=c.registerEntityTypeCtor.bind(c);return d("User",b.model),c}var d={getMetadataStore:c};return d}angular.module("pineappleclub.model",["pineappleclub.meta-data","pineappleclub.user-model"]).factory("model",a),a.$inject=["metadata","UserModelService"]}(),function(){"use strict";function a(a){var b={home:{name:"home",display:"Home",path:"/"},services:{name:"services",display:"Services",path:"/services"},photos:{name:"photos",display:"Photos",path:"/photos"},philosophy:{name:"philosophy",display:"Philosophy",path:"/philosophy"},contact:{name:"contact",display:"Contact",path:"/contact"}},c={items:b,pages:{main:{name:"main",display:"Menu",items:[b.home,b.services,b.photos,b.philosophy,b.contact]},about:{name:"about",display:"About",items:[b.contact,b.philosophy]}}};return c}angular.module("pineappleclub.navigator-service",["pineappleclub.app-configuration-service"]).factory("NavigatorService",a),a.$inject=["AppConfigurationService"]}(),function(){"use strict";function a(a,b,c,d,e,f){function g(g){g[0]===e.USER_ROLES.all||b.isAuthorized(g)?f.start():(c.changeState("login"),a.$broadcast(b.isAuthenticated()?d.notAuthorized:d.notAuthenticated))}var h={change:g};return h}angular.module("pineappleclub.state-change-service",["ngProgress","pineappleclub.state-service","pineappleclub.auth-service","pineappleclub.auth-events-constant","pineappleclub.authorisation-constant"]).factory("StateChangeService",a),a.$inject=["$rootScope","AuthService","StateService","AUTH_EVENTS","AUTHORISATION","ngProgress"]}(),function(){"use strict";

function a(a,b,c){function d(a,b){c.go(a,b)}var e={changeState:d};return e}angular.module("pineappleclub.state-service",["pineappleclub.authorisation-constant"]).factory("StateService",a),a.$inject=["$location","AUTHORISATION","$state"]}(),function(){"use strict";function a(){var a,b={getCurrentUser:function(){return a},setCurrentUser:function(b){a=b}};return b}angular.module("pineappleclub.user-service",[]).factory("UserService",a),a.$inject=[]}(),function(){"use strict";function a(){function a(a){return $(".device-"+a).is(":visible")}function b(a,b,c,d){var e={enumerable:!0,get:c};d&&(e.set=d),Object.defineProperty(a.prototype,b,e)}var c={device:{isBreakpoint:a},defineProperty:b};return c}angular.module("pineappleclub.util-service",[]).factory("UtilService",a),a.$inject=[]}();